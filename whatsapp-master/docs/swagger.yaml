basePath: /api/v1
definitions:
  model.APIResponse:
    properties:
      data: {}
      error:
        type: string
      message:
        type: string
      success:
        type: boolean
    type: object
  model.HardwareInfo:
    properties:
      browser:
        type: string
      os:
        type: string
    type: object
  model.LoginRequest:
    properties:
      account_id:
        type: string
      cache_login:
        type: boolean
      hardware_info:
        additionalProperties: true
        type: object
      login_method:
        description: qr, phone
        type: string
      phone:
        type: string
      proxy_config:
        $ref: '#/definitions/model.ProxyConfig'
    required:
    - account_id
    type: object
  model.MessageRequest:
    properties:
      account_id:
        type: string
      contact:
        type: string
      message:
        type: string
    required:
    - account_id
    - contact
    - message
    type: object
  model.PhoneLoginRequest:
    properties:
      hardware_info:
        $ref: '#/definitions/model.HardwareInfo'
      is_cache_login:
        type: boolean
      login_phone:
        type: string
      signin_type:
        description: '30: qr, 40: phone'
        type: integer
      socks5:
        $ref: '#/definitions/model.ProxyConfig'
    required:
    - login_phone
    type: object
  model.ProxyConfig:
    properties:
      ip:
        type: string
      password:
        type: string
      port:
        type: integer
      region:
        type: string
      resource_code:
        type: string
      resource_name:
        type: string
      username:
        type: string
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: API for WhatsApp Multi-Service Aggregator
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: WhatsApp Aggregator API
  version: "1.0"
paths:
  /accounts:
    get:
      description: Get all registered accounts
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: List Accounts
      tags:
      - Account
    post:
      consumes:
      - application/json
      description: Create a new WhatsApp account worker
      parameters:
      - description: Login Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Create Account
      tags:
      - Account
  /accounts/{id}:
    delete:
      description: Delete an account by ID
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Delete Account
      tags:
      - Account
    get:
      description: Get account details by ID
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get Account
      tags:
      - Account
  /accounts/{id}/close:
    post:
      description: Close the account session
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Close Account
      tags:
      - Account
  /accounts/{id}/contacts:
    get:
      description: Get contacts for a specific account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get Contacts
      tags:
      - Contact
    post:
      consumes:
      - application/json
      description: Add a new contact to the account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      - description: Contact Info
        in: body
        name: request
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Add Contact
      tags:
      - Contact
  /accounts/{id}/debug:
    get:
      description: Get debug info for a specific account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get Debug Info
      tags:
      - Debug
  /accounts/{id}/debug/check-messages:
    post:
      description: Manually trigger message check
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Check Messages
      tags:
      - Debug
  /accounts/{id}/debug/elements:
    get:
      description: Get debug elements of the page
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get Debug Elements
      tags:
      - Debug
  /accounts/{id}/debug/html:
    get:
      description: Get debug HTML of the page
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - text/html
      responses:
        "200":
          description: OK
          schema:
            type: string
      summary: Get Debug HTML
      tags:
      - Debug
  /accounts/{id}/groups:
    post:
      consumes:
      - application/json
      description: Create a new group
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      - description: Group Info
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Create Group
      tags:
      - Group
  /accounts/{id}/groups/participants:
    post:
      consumes:
      - application/json
      description: Add participants to a group
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      - description: Participants Info
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Add Group Participants
      tags:
      - Group
  /accounts/{id}/login/refresh:
    post:
      description: Refresh login session
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Refresh Login
      tags:
      - Auth
  /accounts/{id}/login/status:
    get:
      description: Check login status for a specific account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Check Login Status
      tags:
      - Auth
  /accounts/{id}/logout:
    post:
      description: Logout from WhatsApp
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Logout
      tags:
      - Auth
  /accounts/{id}/logs:
    get:
      description: Get logs for a specific account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get Logs
      tags:
      - System
  /accounts/{id}/messages:
    get:
      description: Get recent messages for a specific account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get Messages
      tags:
      - Message
  /accounts/{id}/proxy/detect:
    get:
      description: Detect if proxy is working
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Detect Proxy
      tags:
      - Proxy
  /accounts/{id}/proxy/external-ip:
    get:
      description: Get external IP via proxy
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get External IP
      tags:
      - Proxy
  /accounts/{id}/proxy/status:
    get:
      description: Get proxy status for an account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get Proxy Status
      tags:
      - Proxy
  /accounts/{id}/proxy/switch:
    post:
      description: Switch proxy for an account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      - description: Proxy Config
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ProxyConfig'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Switch Proxy
      tags:
      - Proxy
  /accounts/{id}/qr-code:
    get:
      description: Get QR code for a specific account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get QR Code
      tags:
      - Auth
  /accounts/{id}/status:
    get:
      description: Get status for a specific account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get Account Status
      tags:
      - Account
  /accounts/{id}/stop:
    post:
      description: Stop the worker process for an account
      parameters:
      - description: Account ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Stop Account Service
      tags:
      - Account
  /config:
    get:
      description: Get current system configuration
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get Config
      tags:
      - System
    put:
      consumes:
      - application/json
      description: Update system configuration
      parameters:
      - description: Configuration
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Update Config
      tags:
      - System
  /health:
    get:
      description: Check system health status
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get Health Status
      tags:
      - System
  /phone-login:
    post:
      consumes:
      - application/json
      description: Login with phone number
      parameters:
      - description: Phone Login Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.PhoneLoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Phone Login
      tags:
      - Auth
  /send-message:
    post:
      consumes:
      - application/json
      description: Send a WhatsApp message
      parameters:
      - description: Message Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.MessageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Send Message
      tags:
      - Message
  /stats:
    get:
      description: Get system statistics
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.APIResponse'
      summary: Get System Stats
      tags:
      - System
swagger: "2.0"
